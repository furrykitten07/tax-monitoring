# ========================================
# LANGKAH DEPLOY KE VERCEL
# ========================================

## STEP 1: Deploy Project
1. Login ke https://vercel.com
2. Klik "Add New..." > "Project"
3. Import dari GitHub (hubungkan akun GitHub jika belum)
4. Pilih repository "tax-monitoring"
5. Framework Preset: PILIH "Other" (bukan Laravel)
6. Root Directory: biarkan kosong
7. Build Command: biarkan kosong
8. Output Directory: biarkan kosong
9. Install Command: biarkan kosong
10. Klik "Deploy"

## STEP 2: Set Environment Variables
Setelah deploy selesai (mungkin error dulu, normal):
1. Masuk ke Dashboard project di Vercel
2. Klik tab "Settings"
3. Klik "Environment Variables" di sidebar
4. Add environment variables satu per satu:

### Variables yang WAJIB diisi:
APP_NAME = Tax Monitoring System
APP_ENV = production  
APP_KEY = base64:WqwT1MyfbN7mBPReHk7VjtLGhBhGYOzJ00+tHO82J5o=
APP_DEBUG = false
APP_URL = https://your-project-name.vercel.app

### Database Supabase (GANTI dengan data Anda):
DB_CONNECTION = pgsql
DB_HOST = aws-0-ap-southeast-1.pooler.supabase.com
DB_PORT = 5432
DB_DATABASE = postgres
DB_USERNAME = postgres.xxxxxxxxxxxx
DB_PASSWORD = YOUR_SUPABASE_PASSWORD
DB_SSLMODE = require

### Laravel Config:
FILAMENT_ADMIN_EMAIL = fikri@a.com
FILAMENT_ADMIN_PASSWORD = fikri
SESSION_DRIVER = cookie
CACHE_DRIVER = array
QUEUE_CONNECTION = sync
FILESYSTEM_DISK = public

## STEP 3: Redeploy
1. Setelah semua environment variables ditambahkan
2. Klik tab "Deployments"
3. Klik "..." pada deployment terakhir > "Redeploy"
4. Tunggu proses selesai

## STEP 4: Migrate Database
1. Buka https://your-project.vercel.app/admin
2. Akan error "table not found" - NORMAL
3. Untuk migrate, ada 2 cara:

### Cara 1: Via Terminal Lokal (connect to Supabase)
1. Update .env lokal dengan data Supabase
2. php artisan migrate --force
3. php artisan make:filament-user

### Cara 2: Via Vercel CLI (Advanced)
1. Install Vercel CLI: npm i -g vercel
2. vercel login
3. vercel link (pilih project)
4. vercel env pull .env.production
5. php artisan migrate --force --env=production

## STEP 5: Test Access
1. Buka https://your-project.vercel.app/admin
2. Login dengan: fikri@a.com / fikri
3. Test fitur-fitur aplikasi

## STEP 6: Custom Domain (Optional)
1. Beli domain di Namecheap/GoDaddy
2. Di Vercel Settings > Domains
3. Add domain
4. Update DNS records sesuai instruksi

# ========================================
# TROUBLESHOOTING COMMON ISSUES:
# ========================================

## Error: "Route not found"
- Pastikan vercel.json sudah benar
- Check di tab Functions apakah ada function

## Error: "Database connection failed"  
- Double check environment variables di Vercel
- Pastikan Supabase database aktif
- Test connection dari terminal lokal

## Error: "Table doesn't exist"
- Jalankan migration (lihat Step 4)
- Pastikan database sudah ter-migrate

## Error: "500 Internal Server Error"
- Check Vercel Function logs
- Biasanya masalah environment variables

## Performance Slow
- Normal untuk first load (cold start)
- Pertimbangkan upgrade Vercel plan jika perlu

# ======================================== 